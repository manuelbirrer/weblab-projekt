<div class="calendar">
  <div class="days">
    @for (day of days; track day) {
      <div class="day" [class.today]="isToday(day.date)">
        <div class="date">
          <p>{{ day.date | date:"dd.MM" }}</p>
          <p>{{ day.date | date:"E" | uppercase }}</p>
        </div>
        <div class="meals">
          @for (meal of day.meals; track meal) {
            <a class="meal" routerLink="/meal/{{meal._id}}">
              <div class="time">
                <img src="/assets/icons/clock.svg" alt="Time">
                {{ meal.date | date:"HH:mm" }}
              </div>
              <p class="recipe">{{ meal.recipe }}</p>
            </a>
          }
        </div>
        <a class="add-meal" routerLink="/meal/new" [queryParams]="{date: formatDate(day.date, 'yyyy-MM-dd', locale)}">+</a>
      </div>
    }
  </div>
  @if (week) {
    <div class="week-switcher">
      <a class="prev-week" routerLink="/week-of/{{week.prevMonday | date:'YYYY-MM-dd' }}">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M560-240 320-480l240-240 56 56-184 184 184 184-56 56Z"/></svg>      </a>
      <span class="cur-week">{{ week.monday | date:'shortDate' }} - {{ week.sunday | date:'shortDate' }}</span>
      <a class="next-week" routerLink="/week-of/{{week.nextMonday | date:'YYYY-MM-dd' }}">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"/></svg>      </a>
    </div>
  }
</div>
